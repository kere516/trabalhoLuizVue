<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <link rel="stylesheet" href="../css/signup.css" />
    <title>Singup</title>
    <style>
        .error-input {
            border-color: red !important;
        }
        .error-label {
            color: red !important;
        }
        .success-input {
            border-color: green !important;
        }
        .success-label {
            color: green !important;
        }
        #msgError {
            color: red;
            margin-bottom: 15px;
            text-align: center;
        }
        #msgSuccess {
            color: green;
            margin-bottom: 15px;
            text-align: center;
        }
    </style>
  </head>
  <body>
    <div class="container" id="app">
      <div class="card">
        <h1>Cadastrar</h1>

        <div id="msgError" v-if="msgError">{{ msgError }}</div>
        <div id="msgSuccess" v-if="msgSuccess">{{ msgSuccess }}</div>

        <div class="label-float">
          <input 
            type="text" 
            v-model="nome" 
            :class="{ 
                'error-input': !validacoes.nome.valido && nome.length > 0, 
                'success-input': validacoes.nome.valido 
            }"
            placeholder=" " 
            required 
          />
          <label 
            :class="{ 
                'error-label': !validacoes.nome.valido && nome.length > 0, 
                'success-label': validacoes.nome.valido 
            }"
            for="nome">
            {{ validacoes.nome.label }} </label>
        </div>

        <div class="label-float">
          <input 
            type="text" 
            v-model="usuario" 
            :class="{ 
                'error-input': !validacoes.usuario.valido && usuario.length > 0,
                'success-input': validacoes.usuario.valido
            }"
            placeholder=" " 
            required 
          />
          <label 
            :class="{ 
                'error-label': !validacoes.usuario.valido && usuario.length > 0,
                'success-label': validacoes.usuario.valido
            }"
            for="usuario">
            {{ validacoes.usuario.label }}
          </label>
        </div>

        <div class="label-float">
          <input 
            :type="tipoSenha" 
            v-model="senha" 
            :class="{ 
                'error-input': !validacoes.senha.valido && senha.length > 0,
                'success-input': validacoes.senha.valido
            }"
            placeholder=" " 
            required 
          />
          <label 
            :class="{ 
                'error-label': !validacoes.senha.valido && senha.length > 0,
                'success-label': validacoes.senha.valido
            }"
            for="senha">
            {{ validacoes.senha.label }}
          </label>
          <i class="fa fa-eye" aria-hidden="true" @click="toggleSenha('senha')"></i>
        </div>

        <div class="label-float">
          <input 
            :type="tipoConfirmSenha" 
            v-model="confirmSenha" 
            :class="{ 
                'error-input': !validacoes.confirmSenha.valido && confirmSenha.length > 0,
                'success-input': validacoes.confirmSenha.valido && senha.length > 0 // Somente valida se a senha principal foi preenchida
            }"
            placeholder=" " 
            required 
          />
          <label 
            :class="{ 
                'error-label': !validacoes.confirmSenha.valido && confirmSenha.length > 0,
                'success-label': validacoes.confirmSenha.valido && senha.length > 0
            }"
            for="confirmSenha">
            {{ validacoes.confirmSenha.label }}
          </label>
          <i class="fa fa-eye" aria-hidden="true" @click="toggleSenha('confirmSenha')"></i>
        </div>

        <div class="justify-center">
          <button @click="cadastrar">Cadastrar</button>
        </div>

        <p class="mt-3">
          JÃ¡ tem uma conta?
          <a href="../index.html">
            Entrar
          </a>
        </p>
      </div>
    </div>

    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script> 
    
    <script src="../js/signup.js"></script>
  </body>
</html>